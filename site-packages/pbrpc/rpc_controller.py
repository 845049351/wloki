import google.protobuf.service as service

class RpcController(service.RpcController):
    def __init__(self):
        self._fail = False
        self._error = None
        self._cancel = False

    def Reset(self):
        self._fail = False
        self._error = None
        self._cancel = False

    def Failed(self):
        return self._fail

    def SetFailed(self, reason):
        self._fail = True
        self._error = reason

    def StartCancel(self):
        self._cancel = True

    def IsCanceled(self):
        return self._cancel

    def ErrorText(self):
        return self._error
